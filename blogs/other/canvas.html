<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Canvas | Maile‘s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="May you travel in the ocean of front-end knowledge and enjoy it">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.87064c2e.css" as="style"><link rel="preload" href="/assets/js/app.830a5cc9.js" as="script"><link rel="preload" href="/assets/js/3.4d73c9a6.js" as="script"><link rel="preload" href="/assets/js/1.aba2294e.js" as="script"><link rel="preload" href="/assets/js/4.9550ba6d.js" as="script"><link rel="prefetch" href="/assets/js/10.5dddf6ba.js"><link rel="prefetch" href="/assets/js/11.34b79eaa.js"><link rel="prefetch" href="/assets/js/12.051a4c3d.js"><link rel="prefetch" href="/assets/js/13.43919eb1.js"><link rel="prefetch" href="/assets/js/14.4e2321a1.js"><link rel="prefetch" href="/assets/js/15.fac6a8ec.js"><link rel="prefetch" href="/assets/js/16.16de832a.js"><link rel="prefetch" href="/assets/js/17.c4efcbbf.js"><link rel="prefetch" href="/assets/js/18.c7744701.js"><link rel="prefetch" href="/assets/js/19.c2421190.js"><link rel="prefetch" href="/assets/js/20.653f0317.js"><link rel="prefetch" href="/assets/js/21.c3de642c.js"><link rel="prefetch" href="/assets/js/22.72723c62.js"><link rel="prefetch" href="/assets/js/23.17a5309d.js"><link rel="prefetch" href="/assets/js/24.ddcee5ef.js"><link rel="prefetch" href="/assets/js/25.190feede.js"><link rel="prefetch" href="/assets/js/26.13638e16.js"><link rel="prefetch" href="/assets/js/27.6953720f.js"><link rel="prefetch" href="/assets/js/28.02f96b1c.js"><link rel="prefetch" href="/assets/js/29.b882511f.js"><link rel="prefetch" href="/assets/js/30.7a0a3da3.js"><link rel="prefetch" href="/assets/js/31.ea2bcad4.js"><link rel="prefetch" href="/assets/js/32.f8b64b5b.js"><link rel="prefetch" href="/assets/js/33.fb8444b8.js"><link rel="prefetch" href="/assets/js/34.a278ac83.js"><link rel="prefetch" href="/assets/js/35.763b5380.js"><link rel="prefetch" href="/assets/js/36.41d6f92f.js"><link rel="prefetch" href="/assets/js/37.936e06f6.js"><link rel="prefetch" href="/assets/js/38.83c04b06.js"><link rel="prefetch" href="/assets/js/39.379243ed.js"><link rel="prefetch" href="/assets/js/40.b0a3dcf2.js"><link rel="prefetch" href="/assets/js/41.a19d7589.js"><link rel="prefetch" href="/assets/js/42.9596539e.js"><link rel="prefetch" href="/assets/js/43.b1794abe.js"><link rel="prefetch" href="/assets/js/44.fdbe31f2.js"><link rel="prefetch" href="/assets/js/45.2a432228.js"><link rel="prefetch" href="/assets/js/46.7421816b.js"><link rel="prefetch" href="/assets/js/47.2302f343.js"><link rel="prefetch" href="/assets/js/48.0239c8ab.js"><link rel="prefetch" href="/assets/js/49.ba5f7567.js"><link rel="prefetch" href="/assets/js/5.69148c59.js"><link rel="prefetch" href="/assets/js/50.95ba92cf.js"><link rel="prefetch" href="/assets/js/51.9ae7a74a.js"><link rel="prefetch" href="/assets/js/52.afa6c340.js"><link rel="prefetch" href="/assets/js/53.051a216d.js"><link rel="prefetch" href="/assets/js/54.5cf69d9d.js"><link rel="prefetch" href="/assets/js/55.ba77c95e.js"><link rel="prefetch" href="/assets/js/56.ebd0963d.js"><link rel="prefetch" href="/assets/js/57.7eadbc21.js"><link rel="prefetch" href="/assets/js/58.e9077c7c.js"><link rel="prefetch" href="/assets/js/59.690a513a.js"><link rel="prefetch" href="/assets/js/6.178f2e42.js"><link rel="prefetch" href="/assets/js/60.84ac0940.js"><link rel="prefetch" href="/assets/js/61.b4a3286a.js"><link rel="prefetch" href="/assets/js/62.794758f0.js"><link rel="prefetch" href="/assets/js/63.f1f7aa75.js"><link rel="prefetch" href="/assets/js/64.b8950eb0.js"><link rel="prefetch" href="/assets/js/65.c16e8e56.js"><link rel="prefetch" href="/assets/js/66.8974ef02.js"><link rel="prefetch" href="/assets/js/67.349a9d39.js"><link rel="prefetch" href="/assets/js/68.6411df5b.js"><link rel="prefetch" href="/assets/js/69.b23d05ef.js"><link rel="prefetch" href="/assets/js/7.67acb6d9.js"><link rel="prefetch" href="/assets/js/70.4209b515.js"><link rel="prefetch" href="/assets/js/71.e273d3fc.js"><link rel="prefetch" href="/assets/js/72.394df3e6.js"><link rel="prefetch" href="/assets/js/73.f27bb8d2.js"><link rel="prefetch" href="/assets/js/74.41d8bca0.js"><link rel="prefetch" href="/assets/js/75.8ca81b38.js"><link rel="prefetch" href="/assets/js/76.af20e2bb.js"><link rel="prefetch" href="/assets/js/77.69d77975.js"><link rel="prefetch" href="/assets/js/78.bdb9d409.js"><link rel="prefetch" href="/assets/js/79.97081011.js"><link rel="prefetch" href="/assets/js/8.b2f3c57d.js"><link rel="prefetch" href="/assets/js/80.e179847d.js"><link rel="prefetch" href="/assets/js/81.8c8507da.js"><link rel="prefetch" href="/assets/js/82.c9b7f1ad.js"><link rel="prefetch" href="/assets/js/9.64b61bd3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.87064c2e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-999d3bb4><div data-v-999d3bb4><div id="loader-wrapper" class="loading-wrapper" data-v-2c578df8 data-v-999d3bb4 data-v-999d3bb4><div class="loader-main" data-v-2c578df8><div data-v-2c578df8></div><div data-v-2c578df8></div><div data-v-2c578df8></div><div data-v-2c578df8></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-067bd032 data-v-999d3bb4 data-v-999d3bb4><h3 class="title" data-v-067bd032 data-v-067bd032>Maile‘s blog</h3> <p class="description" data-v-067bd032 data-v-067bd032>May you travel in the ocean of front-end knowledge and enjoy it</p> <label id="box" class="inputBox" data-v-067bd032 data-v-067bd032><input type="password" value="" data-v-067bd032> <span data-v-067bd032>Konck! Knock!</span> <button data-v-067bd032>OK</button></label> <div class="footer" data-v-067bd032 data-v-067bd032><span data-v-067bd032><i class="iconfont reco-theme" data-v-067bd032></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-067bd032>vuePress-theme-reco</a></span> <span data-v-067bd032><i class="iconfont reco-copyright" data-v-067bd032></i> <a data-v-067bd032><span data-v-067bd032>maile</span>
            
          <span data-v-067bd032>2017 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-999d3bb4><header class="navbar" data-v-999d3bb4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Maile‘s blog" class="logo"> <span class="site-name">Maile‘s blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      JS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/js/constant.html" class="nav-link"><i class="undefined"></i>
  变量
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/constructor.html" class="nav-link"><i class="undefined"></i>
  构造函数&amp;继承
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/es6.html" class="nav-link"><i class="undefined"></i>
  es6基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/generator.html" class="nav-link"><i class="undefined"></i>
  Generator函数原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/promise.html" class="nav-link"><i class="undefined"></i>
  Promsie相关
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/this.html" class="nav-link"><i class="undefined"></i>
  作用域 &amp; this
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/obj.html" class="nav-link"><i class="undefined"></i>
  浏览器对象模型
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/event.html" class="nav-link"><i class="undefined"></i>
  浏览器对象事件
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/request.html" class="nav-link"><i class="undefined"></i>
  网络请求
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/history.html" class="nav-link"><i class="undefined"></i>
  浏览器历史记录
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/broswer.html" class="nav-link"><i class="undefined"></i>
  浏览器渲染原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      TS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/ts/prepare.html" class="nav-link"><i class="undefined"></i>
  准备
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/base.html" class="nav-link"><i class="undefined"></i>
  基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/inner.html" class="nav-link"><i class="undefined"></i>
  内置类型
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/high.html" class="nav-link"><i class="undefined"></i>
  高级
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/class.html" class="nav-link"><i class="undefined"></i>
  class
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/function.html" class="nav-link"><i class="undefined"></i>
  函数
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/enum.html" class="nav-link"><i class="undefined"></i>
  枚举
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/declare.html" class="nav-link"><i class="undefined"></i>
  声明
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/interface.html" class="nav-link"><i class="undefined"></i>
  接口
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/configs.html" class="nav-link"><i class="undefined"></i>
  项目配置
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/other.html" class="nav-link"><i class="undefined"></i>
  其它
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/interview.html" class="nav-link"><i class="undefined"></i>
  面试相关
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      工程化
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/project/module.html" class="nav-link"><i class="undefined"></i>
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/web-components.html" class="nav-link"><i class="undefined"></i>
  web-components
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/microFrontends.html" class="nav-link"><i class="undefined"></i>
  microFrontends
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/lerna.html" class="nav-link"><i class="undefined"></i>
  多模块仓库
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/ast.html" class="nav-link"><i class="undefined"></i>
  AST
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/babel.html" class="nav-link"><i class="undefined"></i>
  Babel
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      react
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/react/react-base.html" class="nav-link"><i class="undefined"></i>
  react基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/react-super.html" class="nav-link"><i class="undefined"></i>
  react进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-hooks.html" class="nav-link"><i class="undefined"></i>
  react-hooks
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-vdom.html" class="nav-link"><i class="undefined"></i>
  react虚拟Dom
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-diff.html" class="nav-link"><i class="undefined"></i>
  diff算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-fiber.html" class="nav-link"><i class="undefined"></i>
  react-fiber
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-comp.html" class="nav-link"><i class="undefined"></i>
  react-comp
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/redux.html" class="nav-link"><i class="undefined"></i>
  redux
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-redux.html" class="nav-link"><i class="undefined"></i>
  react-redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      vue
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/vue/base.html" class="nav-link"><i class="undefined"></i>
  vue2.0基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/super.html" class="nav-link"><i class="undefined"></i>
  vue2.0进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-cli.html" class="nav-link"><i class="undefined"></i>
  vue-cli源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vuex.html" class="nav-link"><i class="undefined"></i>
  vuex源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-router-base.html" class="nav-link"><i class="undefined"></i>
  vue-router基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-router.html" class="nav-link"><i class="undefined"></i>
  vue-router源码
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-ssr.html" class="nav-link"><i class="undefined"></i>
  vue-ssr
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue2-source.html" class="nav-link"><i class="undefined"></i>
  vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue3-source.html" class="nav-link"><i class="undefined"></i>
  vue3.x源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      node
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/node/command.html" class="nav-link"><i class="undefined"></i>
  命令行工具
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/base.html" class="nav-link"><i class="undefined"></i>
  node基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/event.html" class="nav-link"><i class="undefined"></i>
  事件循环
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/koa.html" class="nav-link"><i class="undefined"></i>
  koa源码
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/protocol.html" class="nav-link"><i class="undefined"></i>
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/node-decorators.html" class="nav-link"><i class="undefined"></i>
  装饰器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      其它
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/other/performance1.html" class="nav-link"><i class="undefined"></i>
  性能优化一
</a></li><li class="dropdown-item"><!----> <a href="/blogs/other/mini-app.html" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blogs/other/canvas.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Canvas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/artadmire" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-999d3bb4></div> <aside class="sidebar" data-v-999d3bb4><div class="personal-info-wrapper" data-v-e2878dae data-v-999d3bb4><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-e2878dae> <h3 class="name" data-v-e2878dae>
    maile
  </h3> <div class="num" data-v-e2878dae><div data-v-e2878dae><h3 data-v-e2878dae>68</h3> <h6 data-v-e2878dae>Articles</h6></div> <div data-v-e2878dae><h3 data-v-e2878dae>0</h3> <h6 data-v-e2878dae>Tags</h6></div></div> <ul class="social-links" data-v-e2878dae></ul> <hr data-v-e2878dae></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      JS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/js/constant.html" class="nav-link"><i class="undefined"></i>
  变量
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/constructor.html" class="nav-link"><i class="undefined"></i>
  构造函数&amp;继承
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/es6.html" class="nav-link"><i class="undefined"></i>
  es6基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/generator.html" class="nav-link"><i class="undefined"></i>
  Generator函数原理
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/promise.html" class="nav-link"><i class="undefined"></i>
  Promsie相关
</a></li><li class="dropdown-item"><!----> <a href="/blogs/js/this.html" class="nav-link"><i class="undefined"></i>
  作用域 &amp; this
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/obj.html" class="nav-link"><i class="undefined"></i>
  浏览器对象模型
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/event.html" class="nav-link"><i class="undefined"></i>
  浏览器对象事件
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/request.html" class="nav-link"><i class="undefined"></i>
  网络请求
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/history.html" class="nav-link"><i class="undefined"></i>
  浏览器历史记录
</a></li><li class="dropdown-item"><!----> <a href="/blogs/network/broswer.html" class="nav-link"><i class="undefined"></i>
  浏览器渲染原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      TS
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/ts/prepare.html" class="nav-link"><i class="undefined"></i>
  准备
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/base.html" class="nav-link"><i class="undefined"></i>
  基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/inner.html" class="nav-link"><i class="undefined"></i>
  内置类型
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/high.html" class="nav-link"><i class="undefined"></i>
  高级
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/class.html" class="nav-link"><i class="undefined"></i>
  class
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/function.html" class="nav-link"><i class="undefined"></i>
  函数
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/enum.html" class="nav-link"><i class="undefined"></i>
  枚举
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/declare.html" class="nav-link"><i class="undefined"></i>
  声明
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/interface.html" class="nav-link"><i class="undefined"></i>
  接口
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/configs.html" class="nav-link"><i class="undefined"></i>
  项目配置
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/other.html" class="nav-link"><i class="undefined"></i>
  其它
</a></li><li class="dropdown-item"><!----> <a href="/blogs/ts/interview.html" class="nav-link"><i class="undefined"></i>
  面试相关
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      工程化
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/project/module.html" class="nav-link"><i class="undefined"></i>
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/web-components.html" class="nav-link"><i class="undefined"></i>
  web-components
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/microFrontends.html" class="nav-link"><i class="undefined"></i>
  microFrontends
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/lerna.html" class="nav-link"><i class="undefined"></i>
  多模块仓库
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/ast.html" class="nav-link"><i class="undefined"></i>
  AST
</a></li><li class="dropdown-item"><!----> <a href="/blogs/project/babel.html" class="nav-link"><i class="undefined"></i>
  Babel
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      react
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/react/react-base.html" class="nav-link"><i class="undefined"></i>
  react基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/react-super.html" class="nav-link"><i class="undefined"></i>
  react进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-hooks.html" class="nav-link"><i class="undefined"></i>
  react-hooks
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-vdom.html" class="nav-link"><i class="undefined"></i>
  react虚拟Dom
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-diff.html" class="nav-link"><i class="undefined"></i>
  diff算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-fiber.html" class="nav-link"><i class="undefined"></i>
  react-fiber
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-comp.html" class="nav-link"><i class="undefined"></i>
  react-comp
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/redux.html" class="nav-link"><i class="undefined"></i>
  redux
</a></li><li class="dropdown-item"><!----> <a href="/blogs/react/react-redux.html" class="nav-link"><i class="undefined"></i>
  react-redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      vue
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/vue/base.html" class="nav-link"><i class="undefined"></i>
  vue2.0基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/super.html" class="nav-link"><i class="undefined"></i>
  vue2.0进阶
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-cli.html" class="nav-link"><i class="undefined"></i>
  vue-cli源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vuex.html" class="nav-link"><i class="undefined"></i>
  vuex源码分析
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-router-base.html" class="nav-link"><i class="undefined"></i>
  vue-router基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-router.html" class="nav-link"><i class="undefined"></i>
  vue-router源码
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue-ssr.html" class="nav-link"><i class="undefined"></i>
  vue-ssr
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue2-source.html" class="nav-link"><i class="undefined"></i>
  vue2.x
</a></li><li class="dropdown-item"><!----> <a href="/blogs/vue/vue3-source.html" class="nav-link"><i class="undefined"></i>
  vue3.x源码
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      node
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/node/command.html" class="nav-link"><i class="undefined"></i>
  命令行工具
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/base.html" class="nav-link"><i class="undefined"></i>
  node基础
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/event.html" class="nav-link"><i class="undefined"></i>
  事件循环
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/koa.html" class="nav-link"><i class="undefined"></i>
  koa源码
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/protocol.html" class="nav-link"><i class="undefined"></i>
  网络协议
</a></li><li class="dropdown-item"><!----> <a href="/blogs/node/node-decorators.html" class="nav-link"><i class="undefined"></i>
  装饰器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      其它
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/other/performance1.html" class="nav-link"><i class="undefined"></i>
  性能优化一
</a></li><li class="dropdown-item"><!----> <a href="/blogs/other/mini-app.html" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blogs/other/canvas.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Canvas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/artadmire" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-067bd032 data-v-999d3bb4><h3 class="title" data-v-067bd032 data-v-067bd032></h3> <!----> <label id="box" class="inputBox" data-v-067bd032 data-v-067bd032><input type="password" value="" data-v-067bd032> <span data-v-067bd032>Konck! Knock!</span> <button data-v-067bd032>OK</button></label> <div class="footer" data-v-067bd032 data-v-067bd032><span data-v-067bd032><i class="iconfont reco-theme" data-v-067bd032></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-067bd032>vuePress-theme-reco</a></span> <span data-v-067bd032><i class="iconfont reco-copyright" data-v-067bd032></i> <a data-v-067bd032><span data-v-067bd032>maile</span>
            
          <span data-v-067bd032>2017 - </span>
          2022
        </a></span></div></div> <div data-v-999d3bb4><main class="page"><section><div class="page-title"><h1 class="title">Canvas</h1> <div data-v-10e19382><i class="iconfont reco-account" data-v-10e19382><span data-v-10e19382>maile</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="canvas"><a href="#canvas" class="header-anchor">#</a> Canvas</h1> <h2 id="兼容性处理"><a href="#兼容性处理" class="header-anchor">#</a> 兼容性处理</h2> <p>对于不支持cavans的可以做兜底处理：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'tutorial'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// drawing code here</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// canvas-unsupported code here</span>
<span class="token punctuation">}</span>

<span class="token comment">// 若不支持canvas展示内部p标签</span>
<span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;test-stock&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Current Price<span class="token operator">:</span> <span class="token number">25.51</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="坐标体系"><a href="#坐标体系" class="header-anchor">#</a> 坐标体系</h2> <p>cavans的坐标体系跟我们平时用到的坐标体系不太一样，y轴的起始点在左上角，越往下越大。x轴的起始点在左下角，越往右越大。</p> <p><img src="/assets/img/cavans1.f5cb36ed.png" alt="cavans1"></p> <h2 id="图形绘制"><a href="#图形绘制" class="header-anchor">#</a> 图形绘制</h2> <h3 id="_1-矩形"><a href="#_1-矩形" class="header-anchor">#</a> 1. 矩形</h3> <ul><li>context.fillRect(x, y, 宽，高） //绘制实心矩形</li> <li>context.strokeRect(x, y, 宽，高）//绘制空心矩形</li> <li>context.clearRect(x, y, 宽，高) // 清除指定的矩形区域，让清除部分透明</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_2-三角形"><a href="#_2-三角形" class="header-anchor">#</a> 2. 三角形</h3> <ul><li>beginPath：相当于路径重置，之前绘制的子路径列表清空；</li> <li>closePath：相当于从当前节点绘制到起点的直线进行闭合；</li> <li>stroke：线条绘制轮廓；</li> <li>fill：填充内容为实心；</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  ctx.fill();</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>上面实际上只画了一个三角形，beginPath把以前的子路径清空了。如果调用ctx.fill()以后再调用beginPath就会画出来两个三角，因为上一次绘制已经完成。</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="_3-移动笔触"><a href="#_3-移动笔触" class="header-anchor">#</a> 3. 移动笔触</h3> <ul><li>moveTo：移动到指定节点上</li></ul> <p><img src="/assets/img/lineto.55355e69.png" alt="lineto"></p> <p><img src="/assets/img/lineto2.ec791d9e.png" alt="lineto2"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// x, y, radius, 起始弧度，结束弧度 逆时针</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绘制</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// x, y, radius, 起始弧度，结束弧度 顺时针</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 口 (顺时针) 半圆</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 左眼</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 右眼</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS8AAAEMCAYAAACV5jBAAAAZ9UlEQVR4nO3d+1NU9/3H8dc5e4NdduUmFwHl5iIgCoiCCgsKJCKIKwjIGkG0sTUz2qRTJzM2vSTTX/JLk/SnTn9p08yY6cRO0knTmTZmGi9ARbyMl2A0GquloihBZCHL7p79/pAvfNt+k6gonP2cfT3+gX0ve86Tcz7n7FkpEAgEQEQkGFntAYiIpoPxIiIhMV5EJCTGi4iExHgRkZAYLyISEuNFREJivIhISIwXEQmJ8SIiITFeRCQkxouIhMR4EZGQGC8iEhLjRURCYryISEiMFxEJifEiIiExXkQkJMaLiITEeBGRkBgvIhIS40VEQmK8iEhIerUH+DZDQ0O4c+cO3G43+Nu4RMFHkiRYLBbExsYiOjp6dl87WH8xu7+/H4FAAAkJCdDrg7qxRCHN7Xbjxo0bsFqtSEpKmrXXDcrTxqGhIQQCASQnJzNcREHOYrEgKysL9+/fx9DQ0Ky9blDG686dO0hISFB7DCJ6SJIkISEhAXfu3Jm11wzKeLndbh5xEQnGZrPB7XbP2usFZbyCdBmOiL6FLMuzuu8GZbyIiB6E8SIiITFeRCQkxouIhMR4EZGQGC8iEhLjRURC0uSdoH6/HxMTE/B4PPB6vfD7/VAUhfePEf0vSZIgyzJ0Oh0MBgNMJhOMRiN0Op3aoz00TcUrEAjA5/PB7XbD4/FgYmICPp8PiqJAURS1xyMKKrIsQ5Zl6PV6eDwemEwmWCwW6PV6SJKk9ngPpKl4+Xw+3L9/H8PDw9Dr9TAajYiIiIDRaIQs8wyZ6N8pijJ1huLxeOB2u6EoCqxWKwwGg9rjPZBm4uX3++F2uzE8PAyz2Qyz2Tz1/UgR/osQzTZZlmEymWAymeDz+TA2Nobh4WHIsgyr1Rr0p5CaORyZ/A+i1+unwiVJEsNF9C0m95F/328ml1yCnWbiNfkHNxqNwpyzEwWLyYAZjcapA4Fgp5l4eb1e+Hw+mEwmtUchEtbkKaTX61V7lAfSTLwmb4cwGo086iKaBkmSYDQaoSgK/H6/2uM8kGbiNXk7BK8qEk2fLMvC3FqkmT2dN6ASPTki7E+aiRcRhRbGi4iEpJmbVB+VoigYHx9XewyiWREeHq659eCQjdf4+DiOHTsGn8+n9ihEM0qv16O0tBQWi0XtUZ6okI0X8NV3IfPy8hAZGan2KEQzYnh4GOfOnVN7jBkR0vECgMjISMTHx6s9BhE9Im2dBBNRyGC8iEhIjBcRCYnxIiIhaW7Bnl/KJvp6Wts3QvbIS2sfJNG30eL2HrLxIiKxMV5EJCTGi4iExHgRkZAYLyISEuNFREJivIhISIwXEQmJ8SIiITFeRCQkxouIhMR4EZGQGC8iEhLjRURCYryISEiMFxEJifEiIiExXkQkJMaLiITEeBGRkBgvIhIS40VEQtLc7zaKoq2tDX19fWqPEfIyMzOxadMmNDQ0QK/n7iASfloq6evrQ29vr9pjhLTFixcjMzMTubm5kGWehIiG8aKQtGjRIjidTjQ2NiI3N1ftcWgaNBcvLf4yMD05er0ecXFxaGpqQktLS0iFS2v7hubiRfRtoqOj8dxzz6G9vR3Jyclqj0OPgfGikJGVlQWXy4X29nbExcWpPQ49JsaLQkJ+fj4aGhrQ3NyMefPmcYFeAxgv0ry8vDw0NjZi06ZNyMrKUnscekIYL9Isg8GAhIQEuFwuNDQ0wG63qz0SPUGMF2mSJEmIjo7GD37wg6lTRdIWxos0KScnBx0dHWhubsbcuXPVHodmAONFmlNUVISmpiZs2rQJCQkJXJzXKMaLNEOSJOTn56OpqQlOpxPp6elqj0QziPEiTTAajUhJSUFbWxvq6+sZrhDAeJHwZFnG3Llz8cMf/hBOpxMJCQlqj0SzgPEioUmShLy8PDz77LNwOp2IiYlReySaJYwXCUuSJBQXF6OlpQV1dXWIi4vj4nwIYbxISJIkYfny5WhpaUF9fT0WLFig9kg0yxgvEo7RaERqaira2tpQV1fHcIUoxouEotPpkJiYiJdeeglPP/00nw4RwhgvEoZOp8PSpUuxe/durFu3DlFRUWqPRCpivEgIOp0Oq1atQmtrK2pqahATE8PF+RDHeFHQk2UZxcXF2LJlC2pra5GUlKT2SBQEQjZeWnuet1aZTCYsXLgQ27dvR01NDR/dPE1a3N41FS9JkjT5IYUqvV6PefPm4Wc/+xkqKip4A+pjeth9Q5R9SFPxIu3Q6/VYtmwZ9u7di4qKCkRGRqo9EgUZrnhS0NHr9XA4HHj22WdRWVmJqKgo6HQ6tceatqtXr+LQoUNqj6E5jBcFFb1ej9LS0qmrivHx8UJfVbxy5Qr+9Kc/4b333lN7FM3haSMFBUmSYDKZkJ2djR07dqC6ulr4p0P09/eju7sbf/3rX3Hr1i21x9EcxouCgl6vR0pKCl555RWsXr1a6BtQA4EAvF4vDh48iJGREZhMJrVH0iTGi1RnMBiwfPly7Nu3D6WlpbBarWqP9Fhu376Nt956C36/H2vXroXFYsH169fVHktzxF1MIE0wGAxYs2YNdu/ejbKyMthsNqEX5y9fvoz3338f4+PjKCsrQ25uLiwWi9pjaRKPvEgVkiTBYDCgvLwcLpcL1dXVwt/H9emnn6K3txdffPEFSktLkZeXJ/xRZDBjvGjWSZKE8PBw5OXlYefOnVi7dq3wP092/fp1dHV14e7duygsLMSaNWvUHknzGC+adSaTCWlpaXj55ZdRXFws9A2ogUAAHo8Hb7/9NhRFwerVq+FwONQeKyQwXjSrjEYjVqxYgf3796OkpET406qBgQH86le/gs1mQ2lpKZYsWaL2SCGD8aJZExYWhsrKSmzbtg3FxcWwWq1C34B68eJF/O1vf4PZbIbD4YDdbkd4eLjaY4UMxotmnCRJMBqNqKyshMvlQlVVlfCnip988gl6e3vhdrtRXl6O7OxsREREqD1aSGG8aEbJsozw8HAUFBSgo6ND+KdDBAIBfP755+jq6sK9e/dQUlKC4uJiYZ7EoCWMF82YyauKdrsdP//5z1FQUACbzab2WNPm9/sxNjaGAwcOwGQyweFwoLi4WO2xQhbjRTMmLCwMxcXF2L9/PwoKCoQ+rQoEArh58yZef/11JCUlweFwIDc3V+2xQhrjRTPCbDbjqaeeQnt7O4qKihARESHs4vzkGtehQ4eQmJiI8vJyZGZmIiwsTO3RQhrjRU/U5KlidXU1XC4XKioqMGfOHLXHmrZAIICzZ8/ixIkT8Pl8WLNmDbKysviVnyAQsvHiAuuTJ8syzGYzSkpKsHPnTpSVlQl9VVFRFFy5cgVdXV0YHR1FeXk5CgoKhNx2RJz5QTQXLy1+SCKQJAlmsxnZ2dl45ZVXsGTJEqGPTvx+P+7du4ff/e53iIyMRFVVFQoKCtQe67Fobd8QcxGCgo7ZbEZpaSlee+015OXlCX2zpqIo6O/vx09+8hPExcWhqqoKOTk5ao9F/0VzR140+yIiIlBTU4Pt27dj6dKlMJvNwi7OK4qCs2fP4i9/+QsyMzPhcDiQkZHBBwoGIcaLpk2SJFgsFtTU1MDlcqG0tFTo2yEURcHp06fR29sLvV6PyspKZGRkwGw2qz0afQ3Gi6ZFlmVERESgtLQUO3fuxOrVq4UP18WLF9HV1YWJiQlUVVUhNzdX2CPIUMB40SOTJAlWqxWLFy/Gyy+/jJycHKGPTnw+H+7du4ff/OY3iI+Px9NPP428vDy1x6IH4L8VemRWqxUOhwO//OUvkZOTI/TivN/vx40bN/Diiy8iIyMD69evR1ZWltpj0UPgkRc9kjlz5mD9+vXo6OhAdnY2wsLChL0E7/f7cebMGfz5z39Gfn4+ysrKkJqaCqPRqPZo9BAYL3ookiTBZrOhrq4Ora2tWLVqlfBHXCdOnEBvby8sFguqqqqwYMECod9TqGG86IF0Oh1sNhsqKirQ0dGBlStXCr3GpSgKzp8/j+7ubvj9ftTW1sJut3NxXjD8tOhbTR5xFRYW4qc//SlWr14tdLh8Ph9u376N3/72twCADRs2IDs7m+ESED8x+lZz5sxBRUUF3njjDdjtdqFv1vT5fLh27RpeeOEF5OTkYP369UhPT1d7LJomnjbSN4qJiUFdXR06OjqQmZkJo9Eo7OK81+vF6dOn8cc//hHl5eVwOByYP38+DAaD2qPRNDFe9P9IkoSoqCjU19djy5YtWLFihdBHXBMTE+jp6cGJEycQExOD6upqJCcnC/2eiPGi/6LT6aaeotDW1obi4mJhr8AFAgH4/X6cPXsWXV1dkGUZTqcTaWlpXOPSAMaLpsiyjMjISKxYsQI//vGPsXDhQqHvefJ6vbh58ybefPNNZGZmor6+HmlpaWqPRU8I//3QlOjoaFRVVeH1119HRkaG0OtBXq8X165dw/PPP4/8/HzU1dUhJSVF7bHoCeKRFwEA4uLisHHjRnR0dCA1NRUGg0HYxXmPx4Pe3l68++67qK2thcPhQFJSEvR6bu5awk8zxEmShLlz58LpdKKlpQWFhYVCnyp6PB50dnait7cXSUlJqK6uRmJiotDvib4e4xXC9Ho9IiMjUVNTg7a2NhQVFQl7BS4QCMDr9eLUqVPo6emBTqdDQ0MDUlJSuDivUYxXiNLpdIiOjsbKlSuxf/9+pKWlCbvGFQgE4PF4cP36dbz55pvIzs5GY2MjkpOT1R6NZhD/JYWo2NhYrFu3Dm+88cbUGpeovF4vrly5gueffx7FxcVwOp1ITExUeyyaYTzyCkHz5s2D0+lER0cHkpKSoNPp1B5p2sbHx3H8+HEcPHgQTU1NKC8vR2JiotDviR4O4xVCJElCYmIiGhsb0dzcjCVLlgh9BW58fBxHjx5Fb28vMjMzUVVVhfj4eC7Ohwhxt1x6JHq9fuq7is888wwKCgqEPVUMBAJTX/k5fvw4wsPD0dLSgvj4eC7OhxB+0iFAp9Nh7ty5WLNmDfbt24fCwkKhw/Xll1/is88+w1tvvQWbzYatW7ciMTGR4Qox/LRDQFxcHNavX4/XXnsNqampQp8qejweXLp0Cd///vdRXl6OzZs3Iz4+Xu2xSAXibsX0UObPn4+GhgZs374dcXFxQh+djI2Nobu7G7///e+xbds2lJWVCf+eaPoYL42SJAkpKSloamrC5s2bsXjxYqF3crfbjcOHD+PEiRPIzc1FVVUV4uLihD39pcfHeGmQwWCY+q5ia2sr8vPzhb11YHKNq6urCz09PbBYLHC5XIiJiRE6xvT4+OlrjF6vR3x8PNatW4cXXnhB+HCNj4+jr68PBw4cQHR0NHbs2IG5c+cyXMR4aU1iYiLq6+vx6quvIiUlRdhwAV/dx/XJJ59g7969qKysRHNzM6KiotQei4IETxs1JCMjA42NjWhvb0dUVJTQRyejo6Po6urCgQMH8Nxzz6G0tBSxsbFCvyd6shgvDZAkCWlpaVOL84sWLRJ6Jx8ZGcHhw4dx8uRJFBUVobKyEjExMULf4kFPHrcGwRmNRsTHx6OhoQEtLS1YsmSJsOFSFAVjY2Po6urCyZMnYbPZ4HK5EBkZKex7opnDeAnMYDAgMTERdXV12LNnD5KTk4XdySfDde7cORw8eBCFhYVT4SL6OoyXwJKTk7Fp0yb86Ec/wpw5c4QNF/DV4vyFCxfw0ksvYdeuXVi7di3mzJmj9lgUxBgvQdntdjQ1NaG9vV3406rh4WF0d3fjnXfewe7du7Fy5UpER0cL+wx9mh2ai9fDbvCi7hiSJMFut6OlpQUNDQ3IzMwU9r0AX4Xr8OHDOH36NEpKSlBRUYGoqCihb/EIRpIkCb2dfB1NxetRPiARP0iTyYTExEQ0NTWhubkZOTk5Qr4P4Ks1rvv376OzsxPnzp1DbGwstmzZAqvVKux7CmZa3DfEPdcIMQaDAcnJyWhsbMR3v/td4cPldrtx+vRpvP/++4iPj0d7eztsNpuw74lmn6aOvLQsNTUVzc3NePHFF2E2m4XeyUdHR3H27Fm8+uqr2LVrFyoqKhAREaH2WCQYxksAixcvRlNTE5555hlEREQIHa67d++iu7sb7777Lnbv3o0VK1bwiIumhfEKYpIkITc3F62trdi4cSPS0tKE3snv3r2LI0eO4Pz583A4HFi9ejUiIyO5OE/TwngFKZPJhJSUlKmriosWLVJ7pGlTFAUjIyPo7OxEX18fEhISsHnzZuFPf0ldXLAPQkajEQsWLIDL5cLOnTuFD9fo6ChOnTqFjz76CPPmzYPL5YLFYmG46LHwyCsIpaenw+VyYd++fcL/jNfIyAhOnjyJX/ziF/je976HiooKmM1mtcciDWC8gkxBQQFaWlrQ2tqKsLAwtcd5LIODg+ju7sYHH3yAPXv2YNmyZTzioieG8QoiBQUFaG1tRX19PebPn6/2OI/l1q1bOHbsGPr6+lBRUYGSkhLYbDahv8ZEwYXxCgJhYWFIT09Ha2srnE4nFi5cqPZI06YoCr744gt0dXXh8uXLSE5OhtPpRFhYGI+46IlivFRmMpmQnp6Ojo4ObNu2TejfIPT7/bh//z56enrQ2dmJwsJCNDY2wmQyqT0aaRDjpTK73Y62tjbs3btX+J/xGhkZQU9PD379619j165dcDgcDBfNGMZLRSUlJdiyZQs2b94s/FXFgYEBdHV14cMPP8SePXuwdOlSXlWkGcV4qaS4uBh2ux21tbVISkpSe5zH8q9//QudnZ24fPkyqqurUVRUxKdD0IxjvFTidDqRnp6O9PR0tUeZNkVRMDg4iK6uLly7dg2pqanYsGED9Ho9w0UzjvFSSVVVldojPBa/34979+5N/VjGsmXLsHHjRuHX7UgcvOmGpmV4eBjHjh3DO++8g8rKStTV1TFcNKt45EWP7J///Cc6Oztx5MgR7N69G4sXL+ZVRZp1mosX11pm1vXr19Hd3Y3PP/8cNTU1KCgo4Fd+BKG1z0hz8XpYWvsgZ5qiKLh58ya6u7vR39+PhQsXoqamhs/iEoQWt3euedED+Xw+DA0N4ejRozh//jzS09OxceNGhotUxXjRAw0NDeHQoUP48MMPUVVVhfXr10OvD9mDdgoS3ALpW/3jH/9AZ2cnenp6sHPnTuTm5vKqIgUFxou+0dWrV/H3v/8d/f39qK2txZIlS7g4T0GD8aL/R1EU3LhxA93d3RgcHERWVhYqKyv5LC4KKtwa6T94vV4MDg7iyJEjuHr1Kux2O+rq6hguCjrcIuk/3L17Fx988AE6OztRWVmJp556iuGioMTTRppy9epVdHZ24uLFi/jOd76DrKwsXlWkoMUtkwAAly5dQk9PD27duoXa2lrk5OTweVwU1BivEKcoCq5du4bjx49jaGgIubm5KCsr46kiBT3GK4R5vV7cvXsXH3/8MW7duoWioiJUV1erPRbRQ2G8Qtjg4CDee+89fPrpp9i6dSuWL1+u9khED43xClGXLl3C0aNHcePGDezYsQOZmZm8+ZSEwniFoAsXLqC3txf37t3Dhg0bYLfbER4ervZYRI+E8QohiqLg8uXL6OnpwejoKJYuXYpVq1apPRbRtDBeIWJiYgKDg4P46KOPMDo6ihUrVqCiokLtsYimjfEKEbdv38bbb7+NoaEhNDc3Iz8/X+2RiB4L4xUCLly4gI8//hijo6PYunUr0tPTuThPwmO8NO7MmTM4deoUfD4f6urqkJGRwcV50gTGS6MURUFfXx/+8Ic/4MyZM4iKikJYWBhOnTql9mgh5+jRo2qPoEmai9fDng5p/bRJURRcuHABn332GQYGBjAwMIC+vj61xwpZ2dnZqr6+JEma2+Y1Fy/6il6vR3NzM5qbm9UehWhG8Nu3RCQkxouIhMR4EZGQGC8iEhLjRURCYryISEiMFxEJifEiIiExXkQkJMaLiITEeBGRkBgvIhIS40VEQmK8iEhIjBcRCYnxIiIhMV5EJCTGi4iExHgRkZAYLyISEuNFREJivIhISIwXEQmJ8SIiIWnqR2e1+KvARE+K1n5NnkdeRCQkxouIhMR4EZGQNLXmNR3Dw8Nqj0A0Y7S8fYdsvCRJgsFgwLlz59QehWhGGQwGYRbhH0XIxstsNqOyshKBQEDtUYhmlCRJMJvNao/xxIVsvGRZRkREhNpjENE0ccGeiITEeBGRkDQTLy0uSBKpRYT9STPxkmUZsizD5/OpPQqRsHw+39S+FOyCf8KHpNPpIEkSJiYmeAWRaBoCgQAmJiYgSRJ0Op3a4zyQZuJlMBig0+kwNjbGeBFNQyAQwNjYGHQ6HQwGg9rjPJBm4mUymWAwGDA2NoaJiQkoiqL2SETCUBQFExMTGBsbg8FggMlkUnukB9JMvIxGI0wmE3w+H4aHh6cCxqMwom8WCASmwjU8PAyfzweTyQSj0aj2aA+kmZtUdTodLBYLFEWZipfZbIbZbIbRaIRer5m3SvRE+Hy+qaOtsbEx+Hw+REZGwmKxCLHmpak9Wq/Xw2q1QpZleDwefPnll3C73VP/XYjo/8iyPLU4bzKZYLPZYLFYhPlHL8aUD2nyy9ZWqxUmkwkejwderxd+v5+nkET/RpIkyLI8tTg/eaoowhHXJE3Fa5JOp0N4eDjCw8PVHoWIZohmFuyJKLQwXkQkJMaLiITEeBGRkBgvIhIS40VEQmK8iEhIjBcRCSko4yXCUxyJ6D8pijKr+25QxstiscDtdqs9BhE9gpGREVgslll7vaCMV2xsLG7cuMHvIhIJQlEUDAwMIDY2dtZeUwoEaSH6+/tx//59JCQkwGazCfFMbaJQoygKRkZGMDAwAKvViqSkpFl77aCNFwAMDQ3hzp07U4+1IaLgIkkSLBYLYmNjER0dPbuvHczxIiL6JjwXIyIhMV5EJKT/AT830zoDonexAAAAAElFTkSuQmCC" alt="lineto3"></p> <h3 id="_4-线"><a href="#_4-线" class="header-anchor">#</a> 4.线</h3> <ul><li>lineTo(x, y)</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 填充三角形</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 描边三角形</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><img src="data:image/png;base64,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" alt="sanjiao"></p> <h3 id="_5-圆弧"><a href="#_5-圆弧" class="header-anchor">#</a> 5.圆弧</h3> <p>在 Canvas 中我们可以使用 context.arc() 的方法来创建圆弧路径。简单来说，在 Canvas 中，创建一条圆弧路径是从与圆心(x, y)距离为一个半径且角度为开始角度的位置开始，最后停在离圆心(x, y)距离为一个半径且角度为结束角度的位置上。</p> <p><img src="/assets/img/arc.53c2cd1e.png" alt="arc"></p> <ul><li>x: 圆的中心的 x 坐标</li> <li>y: 圆的中心的 y 坐标</li> <li>radius: 圆的半径</li> <li>startAngle: 圆弧的开始角度</li> <li>endAngle: 圆弧的结束角度</li> <li>anticlockwise: 可选的参数，规定应该逆时针还是顺时针绘图，默认值为 false</li></ul> <p><strong>弧度表示角度</strong></p> <p>这里需要注意的是，在 Canvas 中表示圆弧的开始角度和结束角度都是以弧度来表示的，而不是使用角度来表示。举个例子: 360度使用弧度来表示则是 2π (pi 的两倍) 弧度。</p> <p><img src="/assets/img/arc2.22cebd6a.png" alt="arc2"></p> <p>我们可以通过下面的公式进行换算。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> degree <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 表示 1°</span>
<span class="token keyword">var</span> radians <span class="token operator">=</span> degree <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.0175弧度</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">25</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">// x 坐标值</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">25</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">// y 坐标值</span>
        <span class="token keyword">var</span> radius <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// 圆弧半径</span>
        <span class="token keyword">var</span> startAngle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 开始点</span>
        <span class="token keyword">var</span> endAngle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">+</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> j<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 结束点</span>
        <span class="token keyword">var</span> anticlockwise <span class="token operator">=</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 顺时针或逆时针</span>

        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> startAngle<span class="token punctuation">,</span> endAngle<span class="token punctuation">,</span> anticlockwise<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><img src="/assets/img/arc3.f91c674c.png" alt="arc3"></p> <h3 id="_5-绘制样式"><a href="#_5-绘制样式" class="header-anchor">#</a> 5.绘制样式</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;rgba(255,0,0,0.5)&quot;</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;rgba(255,0,0,0.5)&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>举例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgb('</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">-</span><span class="token number">42.5</span><span class="token operator">*</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span>
                       Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">-</span><span class="token number">42.5</span><span class="token operator">*</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">',0)'</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j<span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">,</span>i<span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="data:image/png;base64,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" alt="style1"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'rgb(0,'</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">-</span><span class="token number">42.5</span><span class="token operator">*</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span>
                         Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">-</span><span class="token number">42.5</span><span class="token operator">*</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">12.5</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">12.5</span><span class="token operator">+</span>i<span class="token operator">*</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="/assets/img/style2.7743bf63.png" alt="style2"></p> <h3 id="_6-绘制line-style"><a href="#_6-绘制line-style" class="header-anchor">#</a> 6.绘制line style</h3> <p><strong>lineWidth</strong></p> <p>线条的宽度：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span>i<span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">+</span>i<span class="token operator">*</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">+</span>i<span class="token operator">*</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="data:image/png;base64,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" alt="style3"></p> <p><strong>lineCap</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// butt：默认</span>
<span class="token comment">// round: 宽度齐平的半圆</span>
<span class="token comment">// square:宽度齐平的正方形</span>
<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> lineCap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'butt'</span><span class="token punctuation">,</span><span class="token string">'round'</span><span class="token punctuation">,</span><span class="token string">'square'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// 创建路径</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#09f'</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 画线条</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>lineCap<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> lineCap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token operator">+</span>i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token operator">+</span>i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><img src="/assets/img/lineCap.dd379724.jpg" alt="lineCap"></p> <p><strong>lineJoin</strong></p> <p>决定了图形中两线段连接处所显示的样子:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// round：圆角，半径等于线宽</span>
<span class="token comment">// bevel：截断</span>
<span class="token comment">// miter：延伸</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> lineJoin <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'round'</span><span class="token punctuation">,</span> <span class="token string">'bevel'</span><span class="token punctuation">,</span> <span class="token string">'miter'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lineJoin<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> lineJoin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">45</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">45</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">155</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><img src="/assets/img/lineJoin.f959183b.png" alt="lineJoin"></p> <p><strong>虚线</strong></p> <ul><li><p>setLineDash 方法接受一个数组，来指定线段与间隙的交替;</p></li> <li><p>lineDashOffset 属性设置起始偏移量;</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 虚线小段的长度10, 6 间隔为2</span>
  ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token operator">-</span>offset<span class="token punctuation">;</span> <span class="token comment">// 设置起始偏移 </span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">march</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  offset <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>offset <span class="token operator">&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    offset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>march<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">march</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>可以生成动态图：</p> <p><img src="/assets/img/dash.b1c43b4e.jpg" alt="dash"></p> <h3 id="_7-绘制文本"><a href="#_7-绘制文本" class="header-anchor">#</a> 7. 绘制文本</h3> <p>实心的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;48px serif&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>空心的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;48px serif&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_8-绘制图形"><a href="#_8-绘制图形" class="header-anchor">#</a> 8. 绘制图形</h3> <ul><li>drawImage()绘制到幕布上</li> <li>drawImage(image, x, y, width, height)
<ul><li>x：横坐标</li> <li>y：纵坐标</li> <li>width，height：宽高</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">96</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">103</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">170</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'https://mdn.mozillademos.org/files/5395/backdrop.png'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img src="data:image/png;base64,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" alt="image2"></p> <p><img src="data:image/png;base64,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" alt="image1"></p> <h3 id="_9-变形"><a href="#_9-变形" class="header-anchor">#</a> 9. 变形</h3> <p><strong>translate</strong></p> <p>canvas.translate(50,50)方法后canvas的坐标中心就不是左上角，而是（50,50），如图左边数第一个黑色直角就是 第一次canvas.translate(50,50)后的坐标中心。我用了一个for循环对同一个canvas（注意是同一个canvas）执行了5次canvas.translate(50,50),从图中发现canvas每次都以当前坐标中心为基础移动（50,50）,如上图。但是如果遇到在for循环中对canvas执行translate后不想canvas改变坐标中心怎么办？那就在canvas translate前save，后再restore。</p> <p><img src="/assets/img/tras1.9990e770.jpg" alt="tras1"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 使用transformation 时需要</span>
      <span class="token comment">// 通过将当前状态放入栈中，保存 canvas 全部状态的方法。</span>
      ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgb('</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">51</span> <span class="token operator">*</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">-</span> <span class="token number">51</span> <span class="token operator">*</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">', 255)'</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 恢复save的数据</span>
      <span class="token comment">// 在绘图状态栈中弹出顶端的状态，将 canvas 恢复到最近的保存状态的方法。</span>
      <span class="token comment">// 如果没有保存状态，此方法不做任何改变</span>
      ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="data:image/png;base64,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" alt="tras2"></p> <p><strong>scale</strong></p> <p>scale(x,y)</p> <ul><li>x：X表示横轴方向上缩放倍数</li> <li>y：Y表示纵轴方向上缩放的倍数</li></ul> <p>位置和宽高都会一起缩放，如果不使用save和restore中心坐标的位置也会发生改变，比如下面例子，不使用状态保存的话会坐标中心会移动到100，100的位置。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// draw a simple rectangle, but scale it.</span>
  ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 位置和宽度高度都会变化 扩大10倍</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中心点回到左上角</span>

  ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="动画"><a href="#动画" class="header-anchor">#</a> 动画</h2> <h3 id="动画事件步骤"><a href="#动画事件步骤" class="header-anchor">#</a> 动画事件步骤</h3> <ol><li>清空 canvas</li></ol> <p>除非接下来要画的内容会完全充满 canvas（例如背景图），否则你需要清空所有。最简单的做法就是用 clearRect 方法；</p> <ol start="2"><li>保存 canvas 状态</li></ol> <p>如果你要改变一些会改变 canvas 状态的设置（样式，变形之类的），又要在每画一帧之时都是原始状态的话，你需要先保存一下；</p> <ol start="3"><li>绘制动画图形（animated shapes）</li></ol> <p>这一步才是重绘动画帧；</p> <ol start="4"><li>恢复 canvas 状态</li></ol> <p>如果已经保存了 canvas 的状态，可以先恢复它，然后重绘下一帧；</p> <h3 id="requestanimationframe"><a href="#requestanimationframe" class="header-anchor">#</a> requestAnimationFrame</h3> <p>requestAnimationFrame采用系统时间间隔，保持最佳绘制效率，不会因为间隔时间过短，造成过度绘制，增加开销；也不会因为间隔时间太长，使用动画卡顿不流畅，让各种网页动画效果能够有一个统一的刷新机制，从而节省系统资源，提高系统性能，改善视觉效果。</p> <p>requestAnimationFrame的用法与setTimeout很相似，只是不需要设置时间间隔而已。requestAnimationFrame使用一个回调函数作为参数，这个回调函数会在浏览器重绘之前调用。它返回一个整数，表示定时器的编号，这个值可以传递给cancelAnimationFrame用于取消这个函数的执行。</p> <p>requestIdleCallback在每次屏幕刷新时，判断当前帧是否还有多余的时间，如果有，则会调用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span>requestAnimFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span>  window<span class="token punctuation">.</span>requestAnimationFrame       <span class="token operator">||</span> 
          window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> 
          window<span class="token punctuation">.</span>mozRequestAnimationFrame    <span class="token operator">||</span> 
          window<span class="token punctuation">.</span>oRequestAnimationFrame      <span class="token operator">||</span> 
          window<span class="token punctuation">.</span>msRequestAnimationFrame     <span class="token operator">||</span> 
          <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">callback</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>使用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//使用时</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//取消时 </span>
<span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="webgl"><a href="#webgl" class="header-anchor">#</a> webGL</h2> <p>WebGL（全写Web Graphics Library）是一种3D绘图标准，这种绘图技术标准允许把JavaScript和OpenGL ES 2.0结合在一起，通过增加OpenGL ES 2.0的一个JavaScript绑定，WebGL可以为HTML5 Canvas提供硬件3D加速渲染，这样Web开发人员就可以借助系统显卡来在浏览器里更流畅地展示3D场景和模型了，还能创建复杂的导航和数据视觉化。</p> <p>canvas幕布上可以支持2D、3D，2Dcanvas 支持直接绘制，3D的context一般就是webGL。</p> <p>webGL：<a href="https://threejs.org/docs/index.html#manual/en/introduction/Installation" target="_blank" rel="noopener noreferrer">three.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>参考：</p> <ol><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://threejs.org/" target="_blank" rel="noopener noreferrer">three.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://caniuse.com/" target="_blank" rel="noopener noreferrer">caniuse：兼容性不错<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/4/2022, 5:57:03 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-92abcef6><li class="level-2" data-v-92abcef6><a href="/blogs/other/canvas.html#兼容性处理" class="sidebar-link reco-side-兼容性处理" data-v-92abcef6>兼容性处理</a></li><li class="level-2" data-v-92abcef6><a href="/blogs/other/canvas.html#坐标体系" class="sidebar-link reco-side-坐标体系" data-v-92abcef6>坐标体系</a></li><li class="level-2" data-v-92abcef6><a href="/blogs/other/canvas.html#图形绘制" class="sidebar-link reco-side-图形绘制" data-v-92abcef6>图形绘制</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_1-矩形" class="sidebar-link reco-side-_1-矩形" data-v-92abcef6>1. 矩形</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_2-三角形" class="sidebar-link reco-side-_2-三角形" data-v-92abcef6>2. 三角形</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_3-移动笔触" class="sidebar-link reco-side-_3-移动笔触" data-v-92abcef6>3. 移动笔触</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_4-线" class="sidebar-link reco-side-_4-线" data-v-92abcef6>4.线</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_5-圆弧" class="sidebar-link reco-side-_5-圆弧" data-v-92abcef6>5.圆弧</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_5-绘制样式" class="sidebar-link reco-side-_5-绘制样式" data-v-92abcef6>5.绘制样式</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_6-绘制line-style" class="sidebar-link reco-side-_6-绘制line-style" data-v-92abcef6>6.绘制line style</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_7-绘制文本" class="sidebar-link reco-side-_7-绘制文本" data-v-92abcef6>7. 绘制文本</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_8-绘制图形" class="sidebar-link reco-side-_8-绘制图形" data-v-92abcef6>8. 绘制图形</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#_9-变形" class="sidebar-link reco-side-_9-变形" data-v-92abcef6>9. 变形</a></li><li class="level-2" data-v-92abcef6><a href="/blogs/other/canvas.html#动画" class="sidebar-link reco-side-动画" data-v-92abcef6>动画</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#动画事件步骤" class="sidebar-link reco-side-动画事件步骤" data-v-92abcef6>动画事件步骤</a></li><li class="level-3" data-v-92abcef6><a href="/blogs/other/canvas.html#requestanimationframe" class="sidebar-link reco-side-requestanimationframe" data-v-92abcef6>requestAnimationFrame</a></li><li class="level-2" data-v-92abcef6><a href="/blogs/other/canvas.html#webgl" class="sidebar-link reco-side-webgl" data-v-92abcef6>webGL</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a008c6ba data-v-a008c6ba><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a008c6ba><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a008c6ba></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a008c6ba></path></svg></div></div></div>
    <script src="/assets/js/app.830a5cc9.js" defer></script><script src="/assets/js/3.4d73c9a6.js" defer></script><script src="/assets/js/1.aba2294e.js" defer></script><script src="/assets/js/4.9550ba6d.js" defer></script>
  </body>
</html>
